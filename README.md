# pyPhraseSuggesting
Backend implementation for autocomplete form fields.
Поиск подходящих фраз. Для автозаполнения в текстовых полях форм.

По введенной строке (предполагается, что последнее слово не окончено)
ищет несколько наиболее вероятных фраз с оконченным последним словом.

Сначала по словам фразу мы ищем возможны варианты, составляем из них комбинации цепочек, в т.ч. с изменением порядка следования слов, если посчитанная вероятность высока.
Самые лучшие варианты дополняем справа и слева, оставляя топ вариантов.

Фразы ранжируются и сортируются используя марковские цепи первого порядка, подробней описано в этой статье: https://habr.com/ru/post/675218/

Пока реализована базовая версия репозитория, использующего оперативку в качестве хранилища.
В репозиторий загружаются словарь слов и список биграм.

Использование:
```python
# загружаем словари из файлов
with open('unigrams.csv', encoding='utf8') as csvfile:
    unigrams = [row for row in csv.reader(csvfile, delimiter=',')]
with open('bigrams.csv', encoding='utf8') as csvfile:
    bigrams = [row for row in csv.reader(csvfile, delimiter=',')]

# загружаем словари в репозиторий
repo = MemoRepo(unigrams=unigrams, bigrams=bigrams)

# инициируем файндер
finder = Finder(repo)

# запрашиваем вероятные цепочки слов по фразе
chains = finder.find('phrase for autoco')

# выводим 5 лучших
print([' '.join(chain.words) for chain in chains[0:5]])
```

Словари можно взять уже готовые. Например, есть русскоязычный корпус: http://opencorpora.org/?page=downloads. 
Но лучше всего использовать логи поисквых запросов. Нужно составить список употребляемых в нем слов, 
с кол-вом использований, и список биграм по этому корпусу, так же с кол-во использования биграм.
